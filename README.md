<img src="depends-data/maimai.png" alt="MaiBot" title="ä½œè€…:ç•¥nd" width="300">

# éº¦éº¦ï¼MaiCore-MaiBot

![Python Version](https://img.shields.io/badge/Python-3.10+-blue)
![License](https://img.shields.io/github/license/SengokuCola/MaiMBot?label=åè®®)
![Status](https://img.shields.io/badge/çŠ¶æ€-å¼€å‘ä¸­-yellow)
![Contributors](https://img.shields.io/github/contributors/MaiM-with-u/MaiBot.svg?style=flat&label=è´¡çŒ®è€…)
![forks](https://img.shields.io/github/forks/MaiM-with-u/MaiBot.svg?style=flat&label=åˆ†æ”¯æ•°)
![stars](https://img.shields.io/github/stars/MaiM-with-u/MaiBot?style=flat&label=æ˜Ÿæ ‡æ•°)
![issues](https://img.shields.io/github/issues/MaiM-with-u/MaiBot)
[![Ask DeepWiki](https://deepwiki.com/badge.svg)](https://deepwiki.com/DrSmoothl/MaiBot)

<div style="text-align: center">
<strong>
<a href="https://www.bilibili.com/video/BV1amAneGE3P">ğŸŒŸ æ¼”ç¤ºè§†é¢‘</a> | 
<a href="#-æ›´æ–°å’Œå®‰è£…">ğŸš€ å¿«é€Ÿå…¥é—¨</a> | 
<a href="#-æ–‡æ¡£">ğŸ“ƒ æ•™ç¨‹</a> | 
<a href="#-è®¨è®º">ğŸ’¬ è®¨è®º</a> | 
<a href="#-è´¡çŒ®å’Œè‡´è°¢">ğŸ™‹ è´¡çŒ®æŒ‡å—</a>
</strong>
</div>

## ğŸ‰ ä»‹ç»

**ğŸ”MaiCore æ˜¯ä¸€ä¸ªåŸºäºå¤§è¯­è¨€æ¨¡å‹çš„å¯äº¤äº’æ™ºèƒ½ä½“**

- ğŸ’­ **æ™ºèƒ½å¯¹è¯ç³»ç»Ÿ**ï¼šåŸºäº LLM çš„è‡ªç„¶è¯­è¨€äº¤äº’ï¼ŒèŠå¤©æ—¶æœºæ§åˆ¶ã€‚
- ğŸ¤” **å®æ—¶æ€ç»´ç³»ç»Ÿ**ï¼šæ¨¡æ‹Ÿäººç±»æ€è€ƒè¿‡ç¨‹ã€‚
- ğŸ§  **è¡¨è¾¾å­¦ä¹ åŠŸèƒ½**ï¼šå­¦ä¹ ç¾¤å‹çš„è¯´è¯é£æ ¼å’Œè¡¨è¾¾æ–¹å¼
- ğŸ’ **æƒ…æ„Ÿè¡¨è¾¾ç³»ç»Ÿ**ï¼šæƒ…ç»ªç³»ç»Ÿå’Œè¡¨æƒ…åŒ…ç³»ç»Ÿã€‚
- ğŸ”Œ **å¼ºå¤§æ’ä»¶ç³»ç»Ÿ**ï¼šæä¾›APIå’Œäº‹ä»¶ç³»ç»Ÿï¼Œå¯ç¼–å†™å¼ºå¤§æ’ä»¶ã€‚
- ğŸ¢ **ä¼ä¸šçº§å¤šç§Ÿæˆ·æ”¯æŒ** âœ¨ **NEW**: æ”¯æŒT+A+C+På››ç»´éš”ç¦»çš„å¤šç§Ÿæˆ·æ¶æ„ã€‚

<div style="text-align: center">
<a href="https://www.bilibili.com/video/BV1amAneGE3P" target="_blank">
    <picture>
      <source media="(max-width: 600px)" srcset="depends-data/video.png" width="100%">
      <img src="depends-data/video.png" width="30%" alt="éº¦éº¦æ¼”ç¤ºè§†é¢‘">
    </picture>
    <br />
  ğŸ‘† ç‚¹å‡»è§‚çœ‹éº¦éº¦æ¼”ç¤ºè§†é¢‘ ğŸ‘†
</a>
</div>

## ğŸ”¥ æ›´æ–°å’Œå®‰è£…

**æœ€æ–°ç‰ˆæœ¬: v0.11.0** ([æ›´æ–°æ—¥å¿—](changelogs/changelog.md))

å¯å‰å¾€ [Release](https://github.com/MaiM-with-u/MaiBot/releases/) é¡µé¢ä¸‹è½½æœ€æ–°ç‰ˆæœ¬
å¯å‰å¾€ [å¯åŠ¨å™¨å‘å¸ƒé¡µé¢](https://github.com/MaiM-with-u/mailauncher/releases/)ä¸‹è½½æœ€æ–°å¯åŠ¨å™¨
**GitHub åˆ†æ”¯è¯´æ˜ï¼š**
- `main`: ç¨³å®šå‘å¸ƒç‰ˆæœ¬(æ¨è)
- `dev`: å¼€å‘æµ‹è¯•ç‰ˆæœ¬(ä¸ç¨³å®š)
- `classical`: æ—§ç‰ˆæœ¬(åœæ­¢ç»´æŠ¤)

### æœ€æ–°ç‰ˆæœ¬éƒ¨ç½²æ•™ç¨‹
- [ğŸš€ æœ€æ–°ç‰ˆæœ¬éƒ¨ç½²æ•™ç¨‹](https://docs.mai-mai.org/manual/deployment/mmc_deploy_windows.html) - åŸºäº MaiCore çš„æ–°ç‰ˆæœ¬éƒ¨ç½²æ–¹å¼(ä¸æ—§ç‰ˆæœ¬ä¸å…¼å®¹)

### ğŸ¢ å¤šç§Ÿæˆ·æ¶æ„æ”¯æŒ (NEW!)

MaiBotç°å·²æ”¯æŒä¼ä¸šçº§å¤šç§Ÿæˆ·éš”ç¦»æ¶æ„ï¼

#### âœ¨ æ ¸å¿ƒç‰¹æ€§
- **å››ç»´éš”ç¦»ä½“ç³»** (T+A+C+P): ç§Ÿæˆ· + æ™ºèƒ½ä½“ + èŠå¤©æµ + å¹³å°
- **æ•°æ®å®Œå…¨éš”ç¦»**: ä¸åŒç§Ÿæˆ·é—´æ•°æ®100%éš”ç¦»ï¼Œç¡®ä¿æ•°æ®å®‰å…¨
- **é«˜å¯æ‰©å±•æ€§**: æ”¯æŒæ— é™ç§Ÿæˆ·å’Œæ™ºèƒ½ä½“
- **å‘åå…¼å®¹**: å®Œå…¨å…¼å®¹ç°æœ‰åŠŸèƒ½å’Œé…ç½®
- **ä¼ä¸šçº§æ€§èƒ½**: ä¼˜åŒ–çš„æŸ¥è¯¢æ€§èƒ½ï¼Œæ”¯æŒé«˜å¹¶å‘è®¿é—®

#### ğŸš€ å¿«é€Ÿå¼€å§‹
```bash
# 1. æ‰§è¡Œæ•°æ®åº“è¿ç§»
python scripts/run_multi_tenant_migration.py --migrate

# 2. å¯ç”¨å¤šç§Ÿæˆ·æ¨¡å¼
# åœ¨é…ç½®æ–‡ä»¶ä¸­è®¾ç½®:
# MULTI_TENANT_ENABLED=true

# 3. å¯åŠ¨åº”ç”¨
python bot.py
```

#### ğŸ“š å¤šç§Ÿæˆ·æ–‡æ¡£
- [ğŸ“– å¤šç§Ÿæˆ·è¿ç§»æŒ‡å—](docs/MULTI_TENANT_MIGRATION.md)
- [ğŸš€ éƒ¨ç½²æŒ‡å—](docs/DEPLOYMENT_GUIDE.md)
- [ğŸ“‹ APIå‚è€ƒæ–‡æ¡£](docs/API_REFERENCE.md)
- [ğŸ§ª æµ‹è¯•æŠ¥å‘Š](docs/TEST_REPORT.md)
- [ğŸ“Š é¡¹ç›®æ€»ç»“](docs/MULTI_TENANT_MIGRATION_SUMMARY.md)

#### ğŸ’¡ ä½¿ç”¨ç¤ºä¾‹
```python
# åˆ›å»ºéš”ç¦»ä¸Šä¸‹æ–‡
from src.isolation.isolation_context import create_isolation_context

context = create_isolation_context(
    tenant_id="your_tenant",
    agent_id="your_agent",
    platform="qq"
)

# ä½¿ç”¨éš”ç¦»åŒ–API
from src.chat.heart_flow.isolated_heartflow_api import create_isolated_heartflow_processor

processor = create_isolated_heartflow_processor("tenant_001", "agent_001")
response = await processor.process_message(message)
```

> [!WARNING]
> - é¡¹ç›®å¤„äºæ´»è·ƒå¼€å‘é˜¶æ®µï¼ŒåŠŸèƒ½å’Œ API å¯èƒ½éšæ—¶è°ƒæ•´ã€‚
> - æœ‰é—®é¢˜å¯ä»¥æäº¤ Issue æˆ–è€… Discussionã€‚
> - QQ æœºå™¨äººå­˜åœ¨è¢«é™åˆ¶é£é™©ï¼Œè¯·è‡ªè¡Œäº†è§£ï¼Œè°¨æ…ä½¿ç”¨ã€‚
> - ç”±äºç¨‹åºå¤„äºå¼€å‘ä¸­ï¼Œå¯èƒ½æ¶ˆè€—è¾ƒå¤š tokenã€‚

## éº¦éº¦MCé¡¹ç›®MaiCraftï¼ˆæ—©æœŸå¼€å‘ï¼‰
[è®©éº¦éº¦ç©MC](https://github.com/MaiM-with-u/Maicraft)

äº¤æµç¾¤ï¼š1058573197

## ğŸ’¬ è®¨è®º

**æŠ€æœ¯äº¤æµç¾¤ï¼š**
  [éº¦éº¦è„‘ç”µå›¾](https://qm.qq.com/q/RzmCiRtHEW) | 
  [éº¦éº¦è„‘ç£å›¾](https://qm.qq.com/q/wlH5eT8OmQ) |
  [éº¦éº¦å¤§è„‘ç£å…±æŒ¯](https://qm.qq.com/q/VQ3XZrWgMs) | 
  [éº¦éº¦è¦å½“VTB](https://qm.qq.com/q/wGePTl1UyY)

**èŠå¤©å¹æ°´ç¾¤ï¼š**
- [éº¦éº¦ä¹‹é—²èŠç¾¤](https://qm.qq.com/q/JxvHZnxyec)

**æ’ä»¶å¼€å‘æµ‹è¯•ç‰ˆç¾¤ï¼š**
- [æ’ä»¶å¼€å‘ç¾¤](https://qm.qq.com/q/1036092828)

## ğŸ“š æ–‡æ¡£

**éƒ¨åˆ†å†…å®¹å¯èƒ½æ›´æ–°ä¸å¤ŸåŠæ—¶ï¼Œè¯·æ³¨æ„ç‰ˆæœ¬å¯¹åº”**

- [ğŸ“š æ ¸å¿ƒ Wiki æ–‡æ¡£](https://docs.mai-mai.org) - é¡¹ç›®æœ€å…¨é¢çš„æ–‡æ¡£ä¸­å¿ƒï¼Œä½ å¯ä»¥äº†è§£éº¦éº¦æœ‰å…³çš„ä¸€åˆ‡ã€‚

### ğŸ“– å¤šç§Ÿæˆ·æ¶æ„æ–‡æ¡£ (v1.0.0)
- [ğŸ“Š é¡¹ç›®å®Œæˆæ€»ç»“](docs/MULTI_TENANT_MIGRATION_SUMMARY.md) - å¤šç§Ÿæˆ·æ”¹é€ é¡¹ç›®å®Œæ•´æ€»ç»“
- [ğŸ”§ æ•°æ®åº“è¿ç§»æŒ‡å—](docs/MULTI_TENANT_MIGRATION.md) - è¯¦ç»†çš„æ•°æ®åº“è¿ç§»æ­¥éª¤
- [ğŸš€ éƒ¨ç½²æŒ‡å—](docs/DEPLOYMENT_GUIDE.md) - ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²å®Œæ•´æŒ‡å—
- [ğŸ“‹ APIå‚è€ƒæ–‡æ¡£](docs/API_REFERENCE.md) - å®Œæ•´çš„APIæ¥å£æ–‡æ¡£
- [ğŸ§ª æµ‹è¯•æŠ¥å‘Š](docs/TEST_REPORT.md) - å…¨é¢çš„æµ‹è¯•ç»“æœæŠ¥å‘Š
- [ğŸ“ é‡æ„æ–¹æ¡ˆ](refactor.md) - å®Œæ•´çš„å¤šç§Ÿæˆ·æ”¹é€ æŠ€æœ¯æ–¹æ¡ˆ

### å¼€å‘æ–‡æ¡£
- [ğŸ”Œ æ’ä»¶å¼€å‘æŒ‡å—](docs/plugins/) - æ’ä»¶å¼€å‘å®Œæ•´æ•™ç¨‹
- [âš™ï¸ é…ç½®è¯´æ˜](docs/config/) - è¯¦ç»†çš„é…ç½®é€‰é¡¹è¯´æ˜
- [ğŸ› ï¸ å¼€å‘ç¯å¢ƒæ­å»º](https://docs.mai-mai.org/develop/) - å¼€å‘ç¯å¢ƒé…ç½®æŒ‡å—

### è®¾è®¡ç†å¿µ(åŸå§‹æ—¶ä»£çš„ç«èŠ±)

> **åƒçŸ³å¯ä¹è¯´ï¼š**
> - è¿™ä¸ªé¡¹ç›®æœ€åˆåªæ˜¯ä¸ºäº†ç»™ç‰›ç‰› bot æ·»åŠ ä¸€ç‚¹é¢å¤–çš„åŠŸèƒ½ï¼Œä½†æ˜¯åŠŸèƒ½è¶Šå†™è¶Šå¤šï¼Œæœ€åå†³å®šé‡å†™ã€‚å…¶ç›®çš„æ˜¯ä¸ºäº†åˆ›é€ ä¸€ä¸ªæ´»è·ƒåœ¨ QQ ç¾¤èŠçš„"ç”Ÿå‘½ä½“"ã€‚ç›®çš„å¹¶ä¸æ˜¯ä¸ºäº†å†™ä¸€ä¸ªåŠŸèƒ½é½å…¨çš„æœºå™¨äººï¼Œè€Œæ˜¯ä¸€ä¸ªå°½å¯èƒ½è®©äººæ„ŸçŸ¥åˆ°çœŸå®çš„ç±»äººå­˜åœ¨ã€‚
> - ç¨‹åºçš„åŠŸèƒ½è®¾è®¡ç†å¿µåŸºäºä¸€ä¸ªæ ¸å¿ƒçš„åŸåˆ™ï¼š"æœ€åƒè€Œä¸æ˜¯å¥½"ã€‚
> - å¦‚æœäººç±»çœŸçš„éœ€è¦ä¸€ä¸ª AI æ¥é™ªä¼´è‡ªå·±ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰äººéƒ½éœ€è¦ä¸€ä¸ªå®Œç¾çš„ï¼Œèƒ½è§£å†³æ‰€æœ‰é—®é¢˜çš„"helpful assistant"ï¼Œè€Œæ˜¯ä¸€ä¸ªä¼šçŠ¯é”™çš„ï¼Œæ‹¥æœ‰è‡ªå·±æ„ŸçŸ¥å’Œæƒ³æ³•çš„"ç”Ÿå‘½å½¢å¼"ã€‚
> - ä»£ç ä¼šä¿æŒå¼€æºå’Œå¼€æ”¾ï¼Œä½†ä¸ªäººå¸Œæœ› MaiMbot çš„è¿è¡Œæ—¶æ•°æ®ä¿æŒå°é—­ï¼Œå°½é‡é¿å…ä»¥æ˜¾å¼å‘½ä»¤æ¥å¯¹å…¶è¿›è¡Œæ§åˆ¶å’Œè°ƒè¯•ã€‚æˆ‘è®¤ä¸ºä¸€ä¸ªä½ æ— æ³•å®Œå…¨æŒæ§çš„ä¸ªä½“æ‰æ›´èƒ½è®©ä½ æ„Ÿè§‰åˆ°å®ƒçš„è‡ªä¸»æ€§ï¼Œè€Œè§†å…¶æˆä¸ºä¸€ä¸ªå¯¹è¯æœºå™¨ã€‚
> - SengokuCola~~çº¯ç¼–ç¨‹å¤–è¡Œï¼Œé¢å‘ cursor ç¼–ç¨‹ï¼Œå¾ˆå¤šä»£ç å†™å¾—ä¸å¥½å¤šå¤šåŒ…æ¶µ~~å·²å¾—åˆ°å¤§è„‘å‡çº§ã€‚

## ğŸ™‹ è´¡çŒ®å’Œè‡´è°¢
ä½ å¯ä»¥é˜…è¯»[å¼€å‘æ–‡æ¡£](https://docs.mai-mai.org/develop/)æ¥æ›´å¥½çš„äº†è§£éº¦éº¦!  
MaiCore æ˜¯ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œæˆ‘ä»¬éå¸¸æ¬¢è¿ä½ çš„å‚ä¸ã€‚ä½ çš„è´¡çŒ®ï¼Œæ— è®ºæ˜¯æäº¤ bug æŠ¥å‘Šã€åŠŸèƒ½éœ€æ±‚è¿˜æ˜¯ä»£ç  prï¼Œéƒ½å¯¹é¡¹ç›®éå¸¸å®è´µã€‚æˆ‘ä»¬éå¸¸æ„Ÿè°¢ä½ çš„æ”¯æŒï¼ğŸ‰  
ä½†æ— åºçš„è®¨è®ºä¼šé™ä½æ²Ÿé€šæ•ˆç‡ï¼Œè¿›è€Œå½±å“é—®é¢˜çš„è§£å†³é€Ÿåº¦ï¼Œå› æ­¤åœ¨æäº¤ä»»ä½•è´¡çŒ®å‰ï¼Œè¯·åŠ¡å¿…å…ˆé˜…è¯»æœ¬é¡¹ç›®çš„[è´¡çŒ®æŒ‡å—](docs/CONTRIBUTE.md)ã€‚(å¾…è¡¥å®Œ)  

### è´¡çŒ®è€…

æ„Ÿè°¢å„ä½å¤§ä½¬ï¼  

<a href="https://github.com/MaiM-with-u/MaiBot/graphs/contributors">
  <img alt="contributors" src="https://contrib.rocks/image?repo=MaiM-with-u/MaiBot" />
</a>

### è‡´è°¢

- [ç•¥nd](https://space.bilibili.com/1344099355): ä¸ºéº¦éº¦ç»˜åˆ¶äººè®¾ã€‚
- [NapCat](https://github.com/NapNeko/NapCatQQ): ç°ä»£åŒ–çš„åŸºäº NTQQ çš„ Bot åè®®ç«¯å®ç°ã€‚

**ä¹Ÿæ„Ÿè°¢æ¯ä¸€ä½ç»™éº¦éº¦å‘å±•æå‡ºå®è´µæ„è§ä¸å»ºè®®çš„ç”¨æˆ·ï¼Œæ„Ÿè°¢é™ªä¼´éº¦éº¦èµ°åˆ°ç°åœ¨çš„ä½ ä»¬ï¼**

## ğŸ“Œ æ³¨æ„äº‹é¡¹

> [!WARNING]
> ä½¿ç”¨æœ¬é¡¹ç›®å‰å¿…é¡»é˜…è¯»å’ŒåŒæ„[ç”¨æˆ·åè®®](EULA.md)å’Œ[éšç§åè®®](PRIVACY.md)ã€‚  
> æœ¬åº”ç”¨ç”Ÿæˆå†…å®¹æ¥è‡ªäººå·¥æ™ºèƒ½æ¨¡å‹ï¼Œç”± AI ç”Ÿæˆï¼Œè¯·ä»”ç»†ç”„åˆ«ï¼Œè¯·å‹¿ç”¨äºè¿åæ³•å¾‹çš„ç”¨é€”ï¼ŒAI ç”Ÿæˆå†…å®¹ä¸ä»£è¡¨æœ¬é¡¹ç›®å›¢é˜Ÿçš„è§‚ç‚¹å’Œç«‹åœºã€‚

## éº¦éº¦ä»“åº“çŠ¶æ€

![Alt](https://repobeats.axiom.co/api/embed/9faca9fccfc467931b87dd357b60c6362b5cfae0.svg "éº¦éº¦ä»“åº“çŠ¶æ€")

### Star è¶‹åŠ¿

[![Star è¶‹åŠ¿](https://starchart.cc/MaiM-with-u/MaiBot.svg?variant=adaptive)](https://starchart.cc/MaiM-with-u/MaiBot)

## License

GPL-3.0
